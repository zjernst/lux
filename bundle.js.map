{"version":3,"sources":["webpack:///webpack/bootstrap b6a6197612df32b9f836","webpack:///./entry.js","webpack:///./gameView.js","webpack:///./game.js","webpack:///./player.js","webpack:///./MovingObject.js","webpack:///./util.js","webpack:///./sight.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;;AAEA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC3BA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;;AAEA;;;;;;;AChDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,kCAAiC,UAAU;AAC3C;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,KAAK;AACtC;;AAEA;;;;;;;ACzEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;;;AAKA;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxCA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;ACTA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b6a6197612df32b9f836\n **/","const GameView = window.GameView = require('./gameView.js');\n// const mazeWidth = 482;\n// const mazeHeight = 482;\n\nconst canvasEl = document.getElementById(\"world\");\n\n\ncanvasEl.height = window.innerHeight;\ncanvasEl.width = window.innerWidth;\n\nconst ctx = canvasEl.getContext('2d');\nconst gameView = new GameView(ctx);\n\nconst el = document.getElementsByTagName('body')[0];\n\ngameView.start(ctx);\n\n\n\n//\n// canvasEl.height = window.innerHeight;\n// canvasEl.width = window.innerWidth;\n//\n// const img = new Image();\n// img.src = \"maze.gif\";\n//\n// ctx.drawImage(img, 0, 0);\n// const gameView = new GameView(canvasEl.width, canvasEl.height);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./entry.js\n ** module id = 0\n ** module chunks = 0\n **/","const Game = require('./game.js');\nconst Player = window.Player = require('./player.js');\n\n\nfunction GameView(ctx) {\n  // this.dimX = dimX;\n  // this.dimY = dimY;\n  this.ctx = ctx;\n}\n\nGameView.prototype.start = function(ctx) {\n  this.game = new Game();\n  this.player = this.game.player;\n  this.keyHandlers();\n\n  this.game.setup(ctx);\n\n  requestAnimationFrame(this.animate.bind(this));\n};\n\nGameView.prototype.animate = function () {\n  this.game.step();\n  this.game.draw(this.ctx);\n\n  requestAnimationFrame(this.animate.bind(this))\n};\n\nGameView.MOVES = {\n  \"w\": [ 0, -.2],\n  \"a\": [-.2,  0],\n  \"s\": [ 0,  .2],\n  \"d\": [ .2,  0],\n  \"up\": [ 0, -.2],\n  \"left\": [-.2,  0],\n  \"right\": [ .2,  0],\n  \"down\": [ 0,  .2]\n};\n\nGameView.prototype.keyHandlers = function() {\n  const player = this.player;\n  Object.keys(GameView.MOVES).forEach((k) => {\n    let move = GameView.MOVES[k];\n    key(k, () => {\n      player.direct(move);\n    })\n  });\n};\n\nmodule.exports = GameView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./gameView.js\n ** module id = 1\n ** module chunks = 0\n **/","const Player = require('./player.js');\nconst Sight = require('./sight.js');\n\nfunction Game(maze=4) {\n  this.dimY = window.innerHeight;\n  this.dimX = window.innerWidth;\n  let playerPos = [(this.dimX / 2), (this.dimY / 2)];\n  this.mouse = playerPos;\n  this.player = new Player(playerPos, this);\n  this.maze = maze;\n  this.mazeImg = new Image ();\n  this.sight = new Sight(this);\n\n  this.allObjects = [this.player];\n};\n\nGame.prototype.setup = function(ctx) {\n  ctx.clearRect(0, 0, this.dimX, this.dimY);\n  this.mazeImg.onload = function () {\n    ctx.drawImage(this.mazeImg, 0, 0);\n    this.player.draw(ctx);\n  }.bind(this)\n  this.mazeImg.src = `maps/maze${this.maze}.gif`\n  window.addEventListener('mousemove', (e) => {\n    this.mouse = [e.clientX, e.clientY]\n  });\n};\n\nGame.prototype.draw = function(ctx) {\n  ctx.clearRect(0, 0, this.dimX, this.dimY);\n  ctx.drawImage(this.mazeImg, 0, 0);\n  if (this.hitWall(ctx, this.player)) {\n    this.player.moveBack();\n  }\n  this.player.draw(ctx);\n  this.sight.draw(ctx);\n};\n\n\n\nGame.prototype.moveObjects = function () {\n  this.allObjects.forEach((object) => {\n    object.move();\n  });\n};\n\nGame.prototype.step = function () {\n  this.moveObjects();\n};\n\nGame.prototype.hitWall = function (ctx, player) {\n  let x = player.pos[0] - player.radius;\n  let y = player.pos[1] - player.radius;\n  const imgData = ctx.getImageData(x, y, player.radius * 2, player.radius * 2);\n  const pix = imgData.data;\n  for (let i = 0; i < pix.length; i++) {\n    if (pix[i] === 0) {\n      return true\n    }\n  }\n  return false\n};\n\n// function drawMaze() {\n//   // makeWhite(0, 0, canvas.width, canvas.height);\n//   const mazeImg = new Image ();\n//   mazeImg.onload = function () {\n//     ctx.drawImage(mazeImg, 0, 0);\n//   };\n//   let maze = 4\n//   mazeImg.src = `./maps/maze${maze}.gif`;\n// }\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./game.js\n ** module id = 2\n ** module chunks = 0\n **/","const MovingObject = require('./MovingObject.js');\nconst Util = require('./util.js');\nconst util = new Util();\n\nconst COLOR = \"#3e0013\";\nlet RADIUS = 7.5;\nlet VEL = [0,0];\n\nfunction Player(pos, game) {\n  MovingObject.call(this, pos, VEL, RADIUS, COLOR, game);\n};\n\nutil.inherits(MovingObject, Player)\n\nPlayer.prototype.direct = function(direction) {\n  this.vel[0] += direction[0];\n  this.vel[1] += direction[1];\n};\n\n\n\n\nmodule.exports = Player;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./player.js\n ** module id = 3\n ** module chunks = 0\n **/","function MovingObject(pos, vel, radius, color, game) {\n  this.pos = pos;\n  this.prevPos = pos;\n  this.vel = vel;\n  this.radius = radius;\n  this.color = color;\n  this.game = game;\n}\n\nMovingObject.prototype.draw = function (ctx) {\n  // ctx.clearRect(this.prevPos[0], this.prevPos[1], this.radius * 2, this.radius * 2)\n\n  ctx.fillStyle = this.color;\n  ctx.beginPath();\n\n  ctx.arc(\n    this.pos[0],\n    this.pos[1],\n    this.radius,\n    0,\n    2 * Math.PI,\n    false\n  );\n\n  ctx.fill();\n};\n\nMovingObject.prototype.move = function () {\n  this.prevPos = this.pos\n  this.pos[0] = this.pos[0] + this.vel[0];\n  this.pos[1] = this.pos[1] + this.vel[1];\n};\n\nMovingObject.prototype.moveBack = function () {\n  this.pos[0] = this.prevPos[0];\n  this.pos[1] = this.prevPos[1];\n  this.vel[0] = 0;\n  this.vel[1] = 0;\n}\n\nmodule.exports = MovingObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./MovingObject.js\n ** module id = 4\n ** module chunks = 0\n **/","function Util() {}\n\nUtil.prototype.inherits = function(Parent, Child) {\n  function Surrogate () {}\n\n  Surrogate.prototype = Parent.prototype;\n  Child.prototype = new Surrogate();\n  Child.prototype.constructor = Child;\n};\n\nmodule.exports = Util;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./util.js\n ** module id = 5\n ** module chunks = 0\n **/","\nfunction Sight(game) {\n  this.game = game;\n}\n\nSight.prototype.draw = function (ctx) {\n  ctx.fillStyle = 'black';\n  ctx.beginPath();\n  ctx.moveTo(0,0);\n  ctx.lineTo(0, this.game.dimY);\n  ctx.lineTo(this.game.dimX, this.game.dimY);\n  ctx.lineTo(this.game.dimX, 0);\n  ctx.lineTo(0,0);\n\n  let playerX = this.game.player.pos[0];\n  let playerY = this.game.player.pos[1];\n  let mouseX = this.game.mouse[0];\n  let mouseY = this.game.mouse[1];\n\n  ctx.save();\n  ctx.translate(playerX, playerY);\n  let angle = Math.atan2((playerY - mouseY), playerX - mouseX);\n  ctx.rotate(angle + Math.PI/1.33);\n  ctx.moveTo(0,0);\n  ctx.lineTo(300, 100);\n  ctx.lineTo(100, 300);\n  ctx.lineTo(0,0);\n  ctx.fill();\n  ctx.restore();\n};\n\nmodule.exports = Sight;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./sight.js\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":""}